/*
BitSet.js v3.0.0 14/08/2015
http://www.xarg.org/2014/03/javascript-bit-array/

Copyright (c) 2014, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(n){"use strict";function p(a,b){for(var c=0,k,e=a.length,d=0;d<e;d++)c*=2,k=(a[d]+c)/b|0,c=(a[d]+c)%b,a[d]=k;return c}function m(a){for(var b=a.length;b--;)if(a[b])return!1;return!0}function g(a){d=[];if(void 0!==a)if(a instanceof e)l(d,a);else switch(typeof a){case "number":d[0]=a;break;case "string":var b=1;0===a.indexOf("0x")?(b=4,a=a.substr(2)):0===a.indexOf("0b")&&(a=a.substr(2));for(var c=a.length;c--;){var k=parseInt(a.charAt(c),1<<b);if(isNaN(k))break;for(var f=b;f--;){var g=(a.length-c-1)*b+
f,h=Math.floor(g/31);d[h]||(d[h]=0);d[h]|=(k>>f&1)<<g%31}}break;default:throw"Invalid param";}}function l(a,b){for(var c=Math.max(a.length,b.length);c--;)a[c]=b[c]||0;a.length=b.length}function e(a){if(!(this instanceof e))return new e(a);g(a);l(this,d)}function h(a,b,c){var e=Math.floor(b/31);if(e>=a.length){for(var d=a.length;d<e;d++)a[d+1]=0;a.length=e+1}a[e]^=1<<b%31&(-(c&1)^a[e])}var d;e.prototype.length=0;e.prototype.and=function(a){var b=new e;g(a);b.length=this.length;for(a=b.length;a--;)b[a]=
this[a]&(d[a]||0);return b};e.prototype.or=function(a){var b=new e;g(a);b.length=Math.max(this.length,d.length);for(a=b.length;a--;)b[a]=(this[a]||0)|(d[a]||0);return b};e.prototype.nand=function(a){var b=new e;g(a);b.length=Math.max(this.length,d.length);for(a=b.length;a--;)b[a]=~((this[a]||0)&(d[a]||0));return b};e.prototype.nor=function(a){var b=new e;g(a);b.length=Math.max(this.length,d.length);for(a=b.length;a--;)b[a]=~((this[a]||0)|(d[a]||0));return b};e.prototype.not=function(){var a=new e;
a.length=this.length;for(var b=a.length;b--;)a[b]=~this[b];return a};e.prototype.xor=function(a){var b=new e;g(a);b.length=Math.max(this.length,d.length);for(a=b.length;a--;)b[a]=(this[a]||0)^(d[a]||0);return b};e.prototype.equals=function(a){g(a);a=d;var b=this;this.length>d.length&&(a=this,b=d);for(var c=a.length;c--;)if(c<b.length){if(a[c]!==b[c])return!1}else if(0!==a[c])return!1;return!0};e.prototype.clone=function(){return new e(this)};e.prototype.isEmpty=function(){return m(this)};e.prototype.toString=
function(a){if(!a)a=2;else if(2>a||36<a)throw"Invalid base";for(var b=[],c=[],e=this.length;e--;)for(var d=31;d--;)c.push(this[e]>>d&1);do b.unshift(p(c,a).toString(a));while(!m(c));return b.join("")};e.prototype.cardinality=function(){for(var a,b=0,c=this.length;c--;)for(a=this[c];a;a&=a-1,b++);return b};e.prototype.msb=function(){for(var a=this.length;a--;){var b=this[a],c=0;if(b){for(;b>>=1;c++);return 31*a+c}}return 0};e.prototype.set=function(a,b){var c=new e;if("string"===typeof a)g(a),l(c,
d);else{if(0>a)return null;void 0===b&&(b=1);c.length=Math.max(Math.floor(a/31)+1,this.length);for(var k=c.length;k--;)c[k]=this[k]||0;h(c,a,b)}return c};e.prototype.setRange=function(a,b,c){if(0<=a&&a<=b){var d=new e(this);if("string"===typeof c){c=new e(c);for(var f=a;f<=b;f++)h(d,f,c.get(f-a))}else for(void 0===c&&(c=1),f=a;f<=b;f++)h(d,f,c);return d}return null};e.prototype.get=function(a){return 0<=a&&a<31*this.length?this[a/31|0]>>a%31&1:0};e.prototype.getRange=function(a,b){if(a<=b&&0<=a){for(var c=
new e,d=a;d<=b;d++)h(c,d-a,this.get(d));return c}return null};e.prototype.clear=function(a,b){if(void 0===a)return new e;void 0===b&&(b=31*this.length);if(a>b)return null;for(var c=new e(this),d=a;d<=b;d++)h(c,d,0);return c};e.prototype.flip=function(a,b){var c=new e;if(void 0===a){c.length=this.length;for(var d=c.length;d--;)c[d]=~this[d]}else{void 0===b&&(b=31*this.length);if(0>a||a>b)return null;l(c,this);for(d=a;d<=b;d++)h(c,d,!this.get(d))}return c};"function"===typeof define&&define.amd?define([],
function(){return e}):"object"===typeof exports?module.exports=e:n.BitSet=e})(this);
